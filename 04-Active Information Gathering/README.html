<!DOCTYPE html><html><head><meta charset="utf-8"><style>body {
  max-width: 980px;
  border: 1px solid #ddd;
  outline: 1300px solid #fff;
  margin: 16px auto;
}

body .markdown-body
{
  padding: 45px;
}

@font-face {
  font-family: fontawesome-mini;
  src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}

@font-face {
  font-family: octicons-anchor;
  src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}

.markdown-body {
  font-family: sans-serif;
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  color: #333333;
  overflow: hidden;
  font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;
  font-size: 16px;
  line-height: 1.6;
  word-wrap: break-word;
}

.markdown-body a {
  background: transparent;
}

.markdown-body a:active,
.markdown-body a:hover {
  outline: 0;
}

.markdown-body b,
.markdown-body strong {
  font-weight: bold;
}

.markdown-body mark {
  background: #ff0;
  color: #000;
  font-style: italic;
  font-weight: bold;
}

.markdown-body sub,
.markdown-body sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
.markdown-body sup {
  top: -0.5em;
}
.markdown-body sub {
  bottom: -0.25em;
}

.markdown-body h1 {
  font-size: 2em;
  margin: 0.67em 0;
}

.markdown-body img {
  border: 0;
}

.markdown-body hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  height: 0;
}

.markdown-body pre {
  overflow: auto;
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre,
.markdown-body samp {
  font-family: monospace, monospace;
  font-size: 1em;
}

.markdown-body input {
  color: inherit;
  font: inherit;
  margin: 0;
}

.markdown-body html input[disabled] {
  cursor: default;
}

.markdown-body input {
  line-height: normal;
}

.markdown-body input[type="checkbox"] {
  box-sizing: border-box;
  padding: 0;
}

.markdown-body table {
  border-collapse: collapse;
  border-spacing: 0;
}

.markdown-body td,
.markdown-body th {
  padding: 0;
}

.markdown-body .codehilitetable {
  border: 0;
  border-spacing: 0;
}

.markdown-body .codehilitetable tr {
  border: 0;
}

.markdown-body .codehilitetable pre,
.markdown-body .codehilitetable div.codehilite {
  margin: 0;
}

.markdown-body .linenos,
.markdown-body .code,
.markdown-body .codehilitetable td {
  border: 0;
  padding: 0;
}

.markdown-body td:not(.linenos) .linenodiv {
  padding: 0 !important;
}

.markdown-body .code {
  width: 100%;
}

.markdown-body .linenos div pre,
.markdown-body .linenodiv pre,
.markdown-body .linenodiv {
  border: 0;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-left-radius: 3px;
  -webkit-border-bottom-left-radius: 3px;
  -moz-border-radius-topleft: 3px;
  -moz-border-radius-bottomleft: 3px;
  border-top-left-radius: 3px;
  border-bottom-left-radius: 3px;
}

.markdown-body .code div pre,
.markdown-body .code div {
  border: 0;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-right-radius: 3px;
  -webkit-border-bottom-right-radius: 3px;
  -moz-border-radius-topright: 3px;
  -moz-border-radius-bottomright: 3px;
  border-top-right-radius: 3px;
  border-bottom-right-radius: 3px;
}

.markdown-body * {
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body input {
  font: 13px Helvetica, arial, freesans, clean, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";
  line-height: 1.4;
}

.markdown-body a {
  color: #4183c4;
  text-decoration: none;
}

.markdown-body a:hover,
.markdown-body a:focus,
.markdown-body a:active {
  text-decoration: underline;
}

.markdown-body hr {
  height: 0;
  margin: 15px 0;
  overflow: hidden;
  background: transparent;
  border: 0;
  border-bottom: 1px solid #ddd;
}

.markdown-body hr:before,
.markdown-body hr:after {
  display: table;
  content: " ";
}

.markdown-body hr:after {
  clear: both;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-top: 15px;
  margin-bottom: 15px;
  line-height: 1.1;
}

.markdown-body h1 {
  font-size: 30px;
}

.markdown-body h2 {
  font-size: 21px;
}

.markdown-body h3 {
  font-size: 16px;
}

.markdown-body h4 {
  font-size: 14px;
}

.markdown-body h5 {
  font-size: 12px;
}

.markdown-body h6 {
  font-size: 11px;
}

.markdown-body blockquote {
  margin: 0;
}

.markdown-body ul,
.markdown-body ol {
  padding: 0;
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body ol ol,
.markdown-body ul ol {
  list-style-type: lower-roman;
}

.markdown-body ul ul ol,
.markdown-body ul ol ol,
.markdown-body ol ul ol,
.markdown-body ol ol ol {
  list-style-type: lower-alpha;
}

.markdown-body dd {
  margin-left: 0;
}

.markdown-body code,
.markdown-body pre,
.markdown-body samp {
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  font-size: 12px;
}

.markdown-body pre {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body kbd {
  background-color: #e7e7e7;
  background-image: -moz-linear-gradient(#fefefe, #e7e7e7);
  background-image: -webkit-linear-gradient(#fefefe, #e7e7e7);
  background-image: linear-gradient(#fefefe, #e7e7e7);
  background-repeat: repeat-x;
  border-radius: 2px;
  border: 1px solid #cfcfcf;
  color: #000;
  padding: 3px 5px;
  line-height: 10px;
  font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
  display: inline-block;
}

.markdown-body>*:first-child {
  margin-top: 0 !important;
}

.markdown-body>*:last-child {
  margin-bottom: 0 !important;
}

.markdown-body .headeranchor-link {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  display: block;
  padding-right: 6px;
  padding-left: 30px;
  margin-left: -30px;
}

.markdown-body .headeranchor-link:focus {
  outline: none;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  position: relative;
  margin-top: 1em;
  margin-bottom: 16px;
  font-weight: bold;
  line-height: 1.4;
}

.markdown-body h1 .headeranchor,
.markdown-body h2 .headeranchor,
.markdown-body h3 .headeranchor,
.markdown-body h4 .headeranchor,
.markdown-body h5 .headeranchor,
.markdown-body h6 .headeranchor {
  display: none;
  color: #000;
  vertical-align: middle;
}

.markdown-body h1:hover .headeranchor-link,
.markdown-body h2:hover .headeranchor-link,
.markdown-body h3:hover .headeranchor-link,
.markdown-body h4:hover .headeranchor-link,
.markdown-body h5:hover .headeranchor-link,
.markdown-body h6:hover .headeranchor-link {
  height: 1em;
  padding-left: 8px;
  margin-left: -30px;
  line-height: 1;
  text-decoration: none;
}

.markdown-body h1:hover .headeranchor-link .headeranchor,
.markdown-body h2:hover .headeranchor-link .headeranchor,
.markdown-body h3:hover .headeranchor-link .headeranchor,
.markdown-body h4:hover .headeranchor-link .headeranchor,
.markdown-body h5:hover .headeranchor-link .headeranchor,
.markdown-body h6:hover .headeranchor-link .headeranchor {
  display: inline-block;
}

.markdown-body h1 {
  padding-bottom: 0.3em;
  font-size: 2.25em;
  line-height: 1.2;
  border-bottom: 1px solid #eee;
}

.markdown-body h2 {
  padding-bottom: 0.3em;
  font-size: 1.75em;
  line-height: 1.225;
  border-bottom: 1px solid #eee;
}

.markdown-body h3 {
  font-size: 1.5em;
  line-height: 1.43;
}

.markdown-body h4 {
  font-size: 1.25em;
}

.markdown-body h5 {
  font-size: 1em;
}

.markdown-body h6 {
  font-size: 1em;
  color: #777;
}

.markdown-body p,
.markdown-body blockquote,
.markdown-body ul,
.markdown-body ol,
.markdown-body dl,
.markdown-body table,
.markdown-body pre,
.markdown-body .admonition {
  margin-top: 0;
  margin-bottom: 16px;
}

.markdown-body hr {
  height: 4px;
  padding: 0;
  margin: 16px 0;
  background-color: #e7e7e7;
  border: 0 none;
}

.markdown-body ul,
.markdown-body ol {
  padding-left: 2em;
}

.markdown-body ul ul,
.markdown-body ul ol,
.markdown-body ol ol,
.markdown-body ol ul {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body li>p {
  margin-top: 16px;
}

.markdown-body dl {
  padding: 0;
}

.markdown-body dl dt {
  padding: 0;
  margin-top: 16px;
  font-size: 1em;
  font-style: italic;
  font-weight: bold;
}

.markdown-body dl dd {
  padding: 0 16px;
  margin-bottom: 16px;
}

.markdown-body blockquote {
  padding: 0 15px;
  color: #777;
  border-left: 4px solid #ddd;
}

.markdown-body blockquote>:first-child {
  margin-top: 0;
}

.markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.markdown-body table {
  display: block;
  width: 100%;
  overflow: auto;
  word-break: normal;
  word-break: keep-all;
}

.markdown-body table th {
  font-weight: bold;
}

.markdown-body table th,
.markdown-body table td {
  padding: 6px 13px;
  border: 1px solid #ddd;
}

.markdown-body table tr {
  background-color: #fff;
  border-top: 1px solid #ccc;
}

.markdown-body table tr:nth-child(2n) {
  background-color: #f8f8f8;
}

.markdown-body img {
  max-width: 100%;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body code,
.markdown-body samp {
  padding: 0;
  padding-top: 0.2em;
  padding-bottom: 0.2em;
  margin: 0;
  font-size: 85%;
  background-color: rgba(0,0,0,0.04);
  border-radius: 3px;
}

.markdown-body code:before,
.markdown-body code:after {
  letter-spacing: -0.2em;
  content: "\00a0";
}

.markdown-body pre>code {
  padding: 0;
  margin: 0;
  font-size: 100%;
  word-break: normal;
  white-space: pre;
  background: transparent;
  border: 0;
}

.markdown-body .codehilite {
  margin-bottom: 16px;
}

.markdown-body .codehilite pre,
.markdown-body pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  background-color: #f7f7f7;
  border-radius: 3px;
}

.markdown-body .codehilite pre {
  margin-bottom: 0;
  word-break: normal;
}

.markdown-body pre {
  word-wrap: normal;
}

.markdown-body pre code {
  display: inline;
  max-width: initial;
  padding: 0;
  margin: 0;
  overflow: initial;
  line-height: inherit;
  word-wrap: normal;
  background-color: transparent;
  border: 0;
}

.markdown-body pre code:before,
.markdown-body pre code:after {
  content: normal;
}

/* Admonition */
.markdown-body .admonition {
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  position: relative;
  border-radius: 3px;
  border: 1px solid #e0e0e0;
  border-left: 6px solid #333;
  padding: 10px 10px 10px 30px;
}

.markdown-body .admonition table {
  color: #333;
}

.markdown-body .admonition p {
  padding: 0;
}

.markdown-body .admonition-title {
  font-weight: bold;
  margin: 0;
}

.markdown-body .admonition>.admonition-title {
  color: #333;
}

.markdown-body .attention>.admonition-title {
  color: #a6d796;
}

.markdown-body .caution>.admonition-title {
  color: #d7a796;
}

.markdown-body .hint>.admonition-title {
  color: #96c6d7;
}

.markdown-body .danger>.admonition-title {
  color: #c25f77;
}

.markdown-body .question>.admonition-title {
  color: #96a6d7;
}

.markdown-body .note>.admonition-title {
  color: #d7c896;
}

.markdown-body .admonition:before,
.markdown-body .attention:before,
.markdown-body .caution:before,
.markdown-body .hint:before,
.markdown-body .danger:before,
.markdown-body .question:before,
.markdown-body .note:before {
  font: normal normal 16px fontawesome-mini;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  line-height: 1.5;
  color: #333;
  position: absolute;
  left: 0;
  top: 0;
  padding-top: 10px;
  padding-left: 10px;
}

.markdown-body .admonition:before {
  content: "\f056\00a0";
  color: 333;
}

.markdown-body .attention:before {
  content: "\f058\00a0";
  color: #a6d796;
}

.markdown-body .caution:before {
  content: "\f06a\00a0";
  color: #d7a796;
}

.markdown-body .hint:before {
  content: "\f05a\00a0";
  color: #96c6d7;
}

.markdown-body .danger:before {
  content: "\f057\00a0";
  color: #c25f77;
}

.markdown-body .question:before {
  content: "\f059\00a0";
  color: #96a6d7;
}

.markdown-body .note:before {
  content: "\f040\00a0";
  color: #d7c896;
}

.markdown-body .admonition::after {
  content: normal;
}

.markdown-body .attention {
  border-left: 6px solid #a6d796;
}

.markdown-body .caution {
  border-left: 6px solid #d7a796;
}

.markdown-body .hint {
  border-left: 6px solid #96c6d7;
}

.markdown-body .danger {
  border-left: 6px solid #c25f77;
}

.markdown-body .question {
  border-left: 6px solid #96a6d7;
}

.markdown-body .note {
  border-left: 6px solid #d7c896;
}

.markdown-body .admonition>*:first-child {
  margin-top: 0 !important;
}

.markdown-body .admonition>*:last-child {
  margin-bottom: 0 !important;
}

/* progress bar*/
.markdown-body .progress {
  display: block;
  width: 300px;
  margin: 10px 0;
  height: 24px;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  background-color: #ededed;
  position: relative;
  box-shadow: inset -1px 1px 3px rgba(0, 0, 0, .1);
}

.markdown-body .progress-label {
  position: absolute;
  text-align: center;
  font-weight: bold;
  width: 100%; margin: 0;
  line-height: 24px;
  color: #333;
  text-shadow: 1px 1px 0 #fefefe, -1px -1px 0 #fefefe, -1px 1px 0 #fefefe, 1px -1px 0 #fefefe, 0 1px 0 #fefefe, 0 -1px 0 #fefefe, 1px 0 0 #fefefe, -1px 0 0 #fefefe, 1px 1px 2px #000;
  -webkit-font-smoothing: antialiased !important;
  white-space: nowrap;
  overflow: hidden;
}

.markdown-body .progress-bar {
  height: 24px;
  float: left;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  background-color: #96c6d7;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, .5), inset 0 -1px 0 rgba(0, 0, 0, .1);
  background-size: 30px 30px;
  background-image: -webkit-linear-gradient(
    135deg, rgba(255, 255, 255, .4) 27%,
    transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%,
    transparent 77%, transparent
  );
  background-image: -moz-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: -ms-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: -o-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
}

.markdown-body .progress-100plus .progress-bar {
  background-color: #a6d796;
}

.markdown-body .progress-80plus .progress-bar {
  background-color: #c6d796;
}

.markdown-body .progress-60plus .progress-bar {
  background-color: #d7c896;
}

.markdown-body .progress-40plus .progress-bar {
  background-color: #d7a796;
}

.markdown-body .progress-20plus .progress-bar {
  background-color: #d796a6;
}

.markdown-body .progress-0plus .progress-bar {
  background-color: #c25f77;
}

.markdown-body .candystripe-animate .progress-bar{
  -webkit-animation: animate-stripes 3s linear infinite;
  -moz-animation: animate-stripes 3s linear infinite;
  animation: animate-stripes 3s linear infinite;
}

@-webkit-keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

@-moz-keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

@keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

.markdown-body .gloss .progress-bar {
  box-shadow:
    inset 0 4px 12px rgba(255, 255, 255, .7),
    inset 0 -12px 0 rgba(0, 0, 0, .05);
}

/* Multimarkdown Critic Blocks */
.markdown-body .critic_mark {
  background: #ff0;
}

.markdown-body .critic_delete {
  color: #c82829;
  text-decoration: line-through;
}

.markdown-body .critic_insert {
  color: #718c00 ;
  text-decoration: underline;
}

.markdown-body .critic_comment {
  color: #8e908c;
  font-style: italic;
}

.markdown-body .headeranchor {
  font: normal normal 16px octicons-anchor;
  line-height: 1;
  display: inline-block;
  text-decoration: none;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.headeranchor:before {
  content: '\f05c';
}

.markdown-body .task-list-item {
  list-style-type: none;
}

.markdown-body .task-list-item+.task-list-item {
  margin-top: 3px;
}

.markdown-body .task-list-item input {
  margin: 0 4px 0.25em -20px;
  vertical-align: middle;
}

/* Media */
@media only screen and (min-width: 480px) {
  .markdown-body {
    font-size:14px;
  }
}

@media only screen and (min-width: 768px) {
  .markdown-body {
    font-size:16px;
  }
}

@media print {
  .markdown-body * {
    background: transparent !important;
    color: black !important;
    filter:none !important;
    -ms-filter: none !important;
  }

  .markdown-body {
    font-size:12pt;
    max-width:100%;
    outline:none;
    border: 0;
  }

  .markdown-body a,
  .markdown-body a:visited {
    text-decoration: underline;
  }

  .markdown-body .headeranchor-link {
    display: none;
  }

  .markdown-body a[href]:after {
    content: " (" attr(href) ")";
  }

  .markdown-body abbr[title]:after {
    content: " (" attr(title) ")";
  }

  .markdown-body .ir a:after,
  .markdown-body a[href^="javascript:"]:after,
  .markdown-body a[href^="#"]:after {
    content: "";
  }

  .markdown-body pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  .markdown-body pre,
  .markdown-body blockquote {
    border: 1px solid #999;
    padding-right: 1em;
    page-break-inside: avoid;
  }

  .markdown-body .progress,
  .markdown-body .progress-bar {
    -moz-box-shadow: none;
    -webkit-box-shadow: none;
    box-shadow: none;
  }

  .markdown-body .progress {
    border: 1px solid #ddd;
  }

  .markdown-body .progress-bar {
    height: 22px;
    border-right: 1px solid #ddd;
  }

  .markdown-body tr,
  .markdown-body img {
    page-break-inside: avoid;
  }

  .markdown-body img {
    max-width: 100% !important;
  }

  .markdown-body p,
  .markdown-body h2,
  .markdown-body h3 {
    orphans: 3;
    widows: 3;
  }

  .markdown-body h2,
  .markdown-body h3 {
    page-break-after: avoid;
  }
}
</style><title>README</title></head><body><article class="markdown-body"><h1 id="4-active-information-gathering"><a name="user-content-4-active-information-gathering" href="#4-active-information-gathering" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4. - Active Information Gathering</h1>
<h5 id="p-82"><a name="user-content-p-82" href="#p-82" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>p. 82</h5>
<p>Once you have gathered enough information about your target, using open web resources, and other passive information gathering techiniques, you can further gather relevant information from other, more specific services.</p>
<h2 id="41-dns-enumeration"><a name="user-content-41-dns-enumeration" href="#41-dns-enumeration" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.1 - DNS Enumeration</h2>
<p>DNS is often a lucrative source for active information gathering. DNS offers a variety of information about public (and private) organization servers, such as IP addresses, server names, and server functionality.</p>
<h3 id="411-interacting-with-a-dns-server"><a name="user-content-411-interacting-with-a-dns-server" href="#411-interacting-with-a-dns-server" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.1.1 - Interacting with a DNS Server</h3>
<p>A DNS server will usually divulge DNS and mail server information for the domain it has authoroty over. This is a necessity, as public requests for mail and DNS server addresses make up the basic Internet experience.<br />
We&rsquo;ll use the <strong>host</strong> command, together with the <strong>-t</strong> (type) parameter to discover both the DNS and mail servers for the <strong>megacorpone.com</strong> domain.</p>
<pre><code>root@kali:~# host -t ns megacorpone.com
megacorpone.com name server ns1.megacorpone.com.
megacorpone.com name server ns3.megacorpone.com.
megacorpone.com name server ns2.megacorpone.com.

root@kali:~# host -t mx megacorpone.com
megacorpone.com mail is handled by 50 mail.megacorpone.com.
megacorpone.com mail is handled by 60 mail2.megacorpone.com.
megacorpone.com mail is handled by 10 fb.mail.gandi.net.
megacorpone.com mail is handled by 20 spool.mail.gandi.net.
</code></pre>

<p>By default, every configured domain should provide at least the DNS and mail servers responsible for the domain.</p>
<h3 id="412-automating-lookups"><a name="user-content-412-automating-lookups" href="#412-automating-lookups" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.1.2 - Automating Lookups</h3>
<p>Now that we have some initital data from the <strong>megacorpone.com</strong> domain, we can continue to use additional DNS queries to discover more host names and IP addresses belonging to <strong>megacorpone.com</strong>. For example, we can assume that the <strong>megacorpone.com</strong>ain has a web server, probably with the hostname <strong>www</strong>.<br />
We can test this theory using the <strong>host</strong> command once again.</p>
<pre><code>root@kali:~# host www.megacorpone.com
www.megacorpone.com has address 38.100.193.76
</code></pre>

<p>Now, let&rsquo;s check if <strong>megacorpone.com</strong> also has a server with the hostname <em>idontexist</em>. Notice the difference between the query outputs.</p>
<pre><code>root@kali:~# host idontexist.megacorpone.com
idontexist.megacorpone.com has address 92.242.140.20
Host idontexist.megacorpone.com not found: 3(NXDOMAIN)
</code></pre>

<h3 id="413-forward-lookup-brute-force"><a name="user-content-413-forward-lookup-brute-force" href="#413-forward-lookup-brute-force" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.1.3 - Forward Lookup Brute Force</h3>
<p>Taking the previous concept a step further, we can automate the Forward DNS Lookup of commmon host names using the <strong>host</strong> command and a Bash script. We can create a short (or long) list of possible hostnames and loop the <strong>host</strong> command to try each one.</p>
<pre><code>root@kali:~# echo www &gt; list.txt
root@kali:~# echo ftp &gt;&gt; list.txt
root@kali:~# echo mail &gt;&gt; list.txt
root@kali:~# echo owa &gt;&gt; list.txt
root@kali:~# echo proxy &gt;&gt; list.txt
root@kali:~# echo router &gt;&gt; list.txt
root@kali:~# for ip in $(cat list.txt);do host $ip.megacorpone.com;done
</code></pre>

<p>Is this simplified example, we notice that the hostnames <strong>www</strong>, <strong>router</strong>, and <strong>mail</strong> have been discovered through this brute-force attack.</p>
<h3 id="414-reverse-lookup-brute-force"><a name="user-content-414-reverse-lookup-brute-force" href="#414-reverse-lookup-brute-force" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.1.4 - Reverse Lookup Brute Force</h3>
<p>Our DNS forward brute-force enumeration revealed a set of scattered IP addresses. If the DNS adminitrator of<strong>megacorpone.com</strong> configured PTR records for the domain, we might find out some more domain names that were missed during the forward lookup brute-force phase, by probing the range of these found addresses in a lopp.</p>
<pre><code>root@kali:~# for ip in $(seq 155 190);do host 50.7.67.$ip;done | grep -v &quot;not found&quot;
155.67.7.50.in-addr.arpa domain name pointer mail.megacorpone.com.
162.67.7.50.in-addr.arpa domain name pointer www.megacorpone.com.
163.67.7.50.in-addr.arpa domain name pointer mail2.megacorpone.com.
164.67.7.50.in-addr.arpa domain name pointer www2.megacorpone.com.
165.67.7.50.in-addr.arpa domain name pointer beta.megacorpone.com.
170.67.7.50.in-addr.arpa domain name pointer ns3.megacorpone.com.
178.67.7.50.in-addr.arpa domain name pointer syslog.megacorpone.com.
                        ...
</code></pre>

<h3 id="415-dns-zone-transfers"><a name="user-content-415-dns-zone-transfers" href="#415-dns-zone-transfers" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.1.5 - DNS Zone Transfers</h3>
<p>A zone transfer is similar to a database replication act between related DNS servers. This process includes the copying of the zone file from a master DNS server to a slave server. The zone file contains a list of all the DNS names configured for that zone.<br />
A successful zone transfer does not directly result in a network breach. However, it does facilitate the process. The <strong>host</strong> command syntax for preforming a zone transfer is as follows.</p>
<blockquote>
<p>host -l [domain name] [dns server address]</p>
</blockquote>
<p>from our previous host command, we noticed that two DNS servers serve the <strong>megacorpone.com</strong> domain: ns1 and ns2. Let&rsquo;s try a zone transfer.</p>
<ul>
<li>NS1</li>
</ul>
<pre><code>root@kali:~# host -l megacorpone.com ns1.megacorpone.com
Using domain server:
Name: ns1.megacorpone.com
Address: 38.100.193.70#53
Aliases: 

Host megacorpone.com not found: 5(REFUSED)
; Transfer failed.

</code></pre>

<ul>
<li>NS2<br />
<pre><code>root@kali:~# host -l megacorpone.com ns2.megacorpone.com
Using domain server:
Name: ns2.megacorpone.com
Address: 38.100.193.80#53
Aliases: 

megacorpone.com name server ns1.megacorpone.com.
megacorpone.com name server ns2.megacorpone.com.
megacorpone.com name server ns3.megacorpone.com.
admin.megacorpone.com has address 38.100.193.83
beta.megacorpone.com has address 38.100.193.69
fs1.megacorpone.com has address 38.100.193.82
intranet.megacorpone.com has address 38.100.193.81
mail.megacorpone.com has address 38.100.193.84
mail2.megacorpone.com has address 38.100.193.73
                    ...
</code></pre></li>
</ul>
<p>In this case, <em>ns1</em> refused us our zone transfer request, while <em>ns2</em> allowed it. The result is a full dump of the zone file for the <strong>megacorpone.com</strong> domain, providing us a convenient list of IPs and DNS names for the <strong>megacorpone.com</strong> domain.</p>
<p>To perform a zone transfer with the <strong>host</strong> command, we need to parameters: the analyzed domain name and the name server address.</p>
<blockquote>
<p>host -l [domain name] [dns server address] | grep &ldquo;has address&rdquo;</p>
</blockquote>
<p>Script:</p>
<h5 id="rev-dns-lookupsh"><a href="#">rev-dns-lookup.sh</a></h5>
<h3 id="416-relevant-tools-in-kali-linux"><a name="user-content-416-relevant-tools-in-kali-linux" href="#416-relevant-tools-in-kali-linux" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.1.6 - Relevant Tools in Kali Linux</h3>
<p>Several tools exist in Kali Linux to aid us in DNS enumeration and most of them perform the same tasks we have already covered in DNS enumeration.</p>
<h4 id="4161-dnsrecon"><a name="user-content-4161-dnsrecon" href="#4161-dnsrecon" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.1.6.1 - DNSRecon</h4>
<h5 id="dnsrecon"><a href="https://tools.kali.org/information-gathering/dnsrecon">DNSRecon</a></h5>
<p>DNSRecon is an advanced, modern DNS enumeration script written in Python.</p>
<blockquote>
<p>root@kali:~# dnsrecon -d [domain name] -t axfr<br />
root@kali:~# dnsrecon -d megacorpone.com -t axfr</p>
</blockquote>
<h4 id="4162-dnsenum"><a name="user-content-4162-dnsenum" href="#4162-dnsenum" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.1.6.2 - DNSEnum</h4>
<p>DNSEnum is another popular DNS enumeration tool. Runnign this script against the <strong>zonetransfer.me</strong> domain, which specifically allows zone transfers.</p>
<blockquote>
<p>root@kali:~# dnsenum [domain name]</p>
</blockquote>
<p><br></p>
<blockquote>
<p>root@kali:~# dnsenum zonetransfer.me</p>
</blockquote>
<h3 id="417-exercicies"><a name="user-content-417-exercicies" href="#417-exercicies" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.1.7 - Exercicies</h3>
<ol>
<li>Find the DNS servers for the megacorpone.com domain.</li>
</ol>
<pre><code>root@kali:~# host -t ns megacorpone.com
megacorpone.com name server ns1.megacorpone.com.
megacorpone.com name server ns3.megacorpone.com.
megacorpone.com name server ns2.megacorpone.com.
</code></pre>

<ol>
<li>Write a smal Bash Script to attempt a zone transfer from a domain.</li>
</ol>
<blockquote>
<p><a href="#">rev-dns-lookup.sh</a></p>
</blockquote>
<ol>
<li>Use <strong>dnsrecon</strong> to attempt a zone transfer from a domain.</li>
</ol>
<blockquote>
<p>root@kali:~# dnsrecon -d megacorpone.com -t axfr</p>
</blockquote>
<h2 id="42-port-scanning"><a name="user-content-42-port-scanning" href="#42-port-scanning" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.2 - Port Scanning</h2>
<p><strong>Please note that port scanning is illegal in many countries.</strong></p>
<p>Port scanning is the process of checking for open TCP or UDP ports on a remote machine.</p>
<h3 id="421-tcp-connectsyn-scanning"><a name="user-content-421-tcp-connectsyn-scanning" href="#421-tcp-connectsyn-scanning" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.2.1 - TCP CONNECT/SYN Scanning</h3>
<h4 id="4211-connect-scanning"><a name="user-content-4211-connect-scanning" href="#4211-connect-scanning" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.2.1.1 - Connect Scanning</h4>
<p>The simplest TCP port scanning technique, usually called CONNECT scanning, relies on the three-way TCP handshake mechanism. If the handshake is completed, this indicates that port is open.</p>
<p>Using <strong>nc</strong> comannd to find opent ports</p>
<blockquote>
<p>root@kali:~# nc -nvv -w 1 -z [host IP] [port range]</p>
</blockquote>
<p><br></p>
<blockquote>
<p>root@kali:~# nc -nvv -w 1 -z 10.0.09 1-65535</p>
</blockquote>
<h4 id="4212-stealthsyn-scanning"><a name="user-content-4212-stealthsyn-scanning" href="#4212-stealthsyn-scanning" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.2.1.2 - Stealth/SYN Scanning</h4>
<p>SYN scanning, is a TCP port scanning method that involves sending SYN packets to various ports on a target machine without completing a TCP handshake. If a TCP port is open, a SYN-ACK should be sent back from the target machine, informing us that the port is open, without the need to send a final ACK back to the target machine.</p>
<h3 id="422-udp-scanning"><a name="user-content-422-udp-scanning" href="#422-udp-scanning" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.2.2 - UDP Scanning</h3>
<p>Since UDP is stateless, and does not involve a three-way handshake, the mechanism behind UDP port scanning is different.</p>
<blockquote>
<p>root@kali:~# nc -nv -u -z -w 1 [host IP] [port range]</p>
</blockquote>
<p><br></p>
<blockquote>
<p>root@kali:~# nc -nv -u -z -w 1 10.0.0.19 160-162</p>
</blockquote>
<h3 id="423-common-port-scanning-pitfalls"><a name="user-content-423-common-port-scanning-pitfalls" href="#423-common-port-scanning-pitfalls" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.2.3 - Common Port Scanning Pitfalls</h3>
<ul>
<li>UDP port scanning is often unreliable, as firewalls and routers may drop ICMP packets. This can lead to false positives in your scan, and you will regularly see UDP port scans showing all UDP ports open on a scanned machine.</li>
<li>Most port scanners do not scan all available ports, and usually have a preset list of &ldquo;interesting ports&rdquo; that are scanned.</li>
<li>People often forget to scan for UDP services, and stick only to tcp scanning, thereby seeing only half of the equation.</li>
</ul>
<h3 id="424-port-scanning-with-nmap"><a name="user-content-424-port-scanning-with-nmap" href="#424-port-scanning-with-nmap" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.2.4 - Port Scanning with Nmap</h3>
<h5 id="nmap"><a href="https://nmap.org/">Nmap</a></h5>
<p>Nmap is one of the most popular, versatile, and robust port scanners to date.</p>
<h4 id="4241-accountability-for-your-traffic"><a name="user-content-4241-accountability-for-your-traffic" href="#4241-accountability-for-your-traffic" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.2.4.1 - Accountability for Your Traffic</h4>
<p>A default <strong>nmap</strong> TCP scan will scan the 1000 most popular ports on a given machine.</p>
<h5 id="metasploitable-vm"><a name="user-content-metasploitable-vm" href="#metasploitable-vm" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Metasploitable vm</h5>
<pre><code>root@kali:~# nmap -sT 192.168.0.104

Starting Nmap 7.01 ( https://nmap.org ) at 2018-03-11 09:42 -04
Nmap scan report for 192.168.0.104
Host is up (0.0017s latency).
Not shown: 977 closed ports
PORT     STATE SERVICE
21/tcp   open  ftp
22/tcp   open  ssh
23/tcp   open  telnet
25/tcp   open  smtp
53/tcp   open  domain
80/tcp   open  http
111/tcp  open  rpcbind
139/tcp  open  netbios-ssn
445/tcp  open  microsoft-ds
512/tcp  open  exec
513/tcp  open  login
514/tcp  open  shell
1099/tcp open  rmiregistry
1524/tcp open  ingreslock
2049/tcp open  nfs
2121/tcp open  ccproxy-ftp
3306/tcp open  mysql
5432/tcp open  postgresql
5900/tcp open  vnc
6000/tcp open  X11
6667/tcp open  irc
8009/tcp open  ajp13
8180/tcp open  unknown

Nmap done: 1 IP address (1 host up) scanned in 1.66 seconds
</code></pre>

<h4 id="4242-network-sweeping"><a name="user-content-4242-network-sweeping" href="#4242-network-sweeping" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.2.4.2 - Network Sweeping</h4>
<p>To deal with large volumes of hosts, or to otherwise try to conserve network traffic, we can attempt to probe these machines using <strong>Network Sweeping</strong> techniques. Network Sweeping is a term indicating a network wide action.</p>
<pre><code>root@kali:~# nmap -sn 192.168.11.200-250
</code></pre>

<p>Searching for live machines using the <strong>grep</strong> command can give you autput that&rsquo;s difficult to manage. Instead, let&rsquo;s use Nmap&rsquo;s &ldquo;greppable&rdquo; output parameter (<strong>-oG</strong>) to save these results into a format that is easier to manage.</p>
<pre><code>root@kali:~# nmap -v -sn 192.168.11.200-250 -oG ping-sweep.txt
root@kali:~# grep Up ping-sweep.txt | cut -d &quot; &quot; -f 2
</code></pre>

<p>Additionally, we can sweep for specific TCP or UDP ports (<strong>-p</strong>) across the network, probing for common services and ports with services that may be useful, or otherwise have known vulnerabilities.</p>
<pre><code>root@kali:~# nmap -p 80 192.168.0.200-250 -oG web-sweep.txt
root@kali:~# grep open web-sweep.txt | cut -d &quot; &quot; -f 2
</code></pre>

<p>Using techniques such as these, we can scan across multiple IPs, probing for only a few common ports. In the command below, we are conducting a scan for the top 20 TCP ports.</p>
<pre><code>root@kali:~# nmap -sT -A --top-ports=20 192.168.0.200-250 -oG top-ports-sweep.txt
</code></pre>

<p>Machines that prove to be rich in services, or otherwise interesting, would then be individually port scanned, using a more exhaustive port list.</p>
<h3 id="425-os-fingerprinting"><a name="user-content-425-os-fingerprinting" href="#425-os-fingerprinting" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.2.5 - O.S Fingerprinting</h3>
<p>Nmap has a built-in feature called <strong>OS Fingerprinting</strong> (<strong>-O</strong> parameter). This feature attempts to guss the underlying operating system, by inspecting the packets received from the target. The Nmap scanner will inspect the traffic sent and received from the target machine, and attempt to match the fingerprint to a know list.</p>
<pre><code>root@kali:~# nmap -O 192.168.0.200
                        ...
Device type: general purpose
Running: Linux 2.6.X
OS CPE: cpe:/o:linux:linux_kernel:2.6
OS details: Linux 2.6.9 - 2.6.33
Network Distance: 1 hop
                        ...
</code></pre>

<h3 id="426-banner-grabbingservice-enumeration"><a name="user-content-426-banner-grabbingservice-enumeration" href="#426-banner-grabbingservice-enumeration" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.2.6 - Banner Grabbing/Service Enumeration</h3>
<p>Nmap can also help identify services on specific ports, by banner grabbing, and running several enumeration scripts (<strong>-sV</strong> and <strong>-A</strong> parameters).</p>
<pre><code>root@kali:~# nmap -sV -sT 192.168.0.200

Starting Nmap 7.01 ( https://nmap.org ) at 2018-03-11 10:15 -04
Nmap scan report for 192.168.0.104
Host is up (0.0017s latency).
Not shown: 977 closed ports
PORT     STATE SERVICE     VERSION
21/tcp   open  ftp         vsftpd 2.3.4
22/tcp   open  ssh         OpenSSH 4.7p1 Debian 8ubuntu1 (protocol 2.0)
23/tcp   open  telnet      Linux telnetd
25/tcp   open  smtp        Postfix smtpd
53/tcp   open  domain      ISC BIND 9.4.2
80/tcp   open  http        Apache httpd 2.2.8 ((Ubuntu) DAV/2)
111/tcp  open  rpcbind     2 (RPC #100000)
139/tcp  open  netbios-ssn Samba smbd 3.X (workgroup: WORKGROUP)
445/tcp  open  netbios-ssn Samba smbd 3.X (workgroup: WORKGROUP)
512/tcp  open  exec        netkit-rsh rexecd
513/tcp  open  login
514/tcp  open  tcpwrapped
1099/tcp open  rmiregistry GNU Classpath grmiregistry
1524/tcp open  shell       Metasploitable root shell
2049/tcp open  nfs         2-4 (RPC #100003)
2121/tcp open  ftp         ProFTPD 1.3.1
3306/tcp open  mysql       MySQL 5.0.51a-3ubuntu5
5432/tcp open  postgresql  PostgreSQL DB 8.3.0 - 8.3.7
5900/tcp open  vnc         VNC (protocol 3.3)
6000/tcp open  X11         (access denied)
6667/tcp open  irc         Unreal ircd
8009/tcp open  ajp13       Apache Jserv (Protocol v1.3)
8180/tcp open  http        Apache Tomcat/Coyote JSP engine 1.1
Service Info: Hosts:  metasploitable.localdomain, localhost, irc.Metasploitable.LAN; OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 15.46 seconds
</code></pre>

<h3 id="427-nmap-scripting-engine-nse"><a name="user-content-427-nmap-scripting-engine-nse" href="#427-nmap-scripting-engine-nse" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.2.7 - Nmap Scripting Engine (NSE)</h3>
<p>The Nmap Scripting Engine (NSE) is a recent addition to Nmap, wich allows users to write simple scripts, in order to automate various networking tasks. The scripts include a broad range of utilities, form DNS enumeration scripts, brute force attack scripts, and even vulnerability identification scripts.<br />
All NSE scripts can be found in the <strong>/usr/share/nmap/scripts</strong> directory.</p>
<pre><code>root@kali:~# ls /usr/share/nmap/scripts/
acarsd-info.nse                         ike-version.nse
address-info.nse                        imap-brute.nse
afp-brute.nse                           imap-capabilities.nse
afp-ls.nse                              informix-brute.nse
afp-path-vuln.nse                       informix-query.nse
afp-serverinfo.nse                      informix-tables.nse
afp-showmount.nse                       ip-forwarding.nse
ajp-auth.nse                            ip-geolocation-geobytes.nse
ajp-brute.nse                           ip-geolocation-geoplugin.nse
ajp-headers.nse                         ip-geolocation-ipinfodb.nse
ajp-methods.nse                         ip-geolocation-maxmind.nse
ajp-request.nse                         ip-https-discover.nse
allseeingeye-info.nse                   ipidseq.nse
amqp-info.nse                           ipv6-node-info.nse
asn-query.nse                           ipv6-ra-flood.nse
auth-owners.nse                         irc-botnet-channels.nse
auth-spoof.nse                          irc-brute.nse
backorifice-brute.nse                   irc-info.nse
backorifice-info.nse                    irc-sasl-brute.nse
bacnet-info.nse                         irc-unrealircd-backdoor.nse
banner.nse                              iscsi-brute.nse
bitcoin-getaddr.nse                     iscsi-info.nse
bitcoin-info.nse                        isns-info.nse
bitcoinrpc-info.nse                     jdwp-exec.nse
bittorrent-discovery.nse                jdwp-info.nse
bjnp-discover.nse                       jdwp-inject.nse
broadcast-ataoe-discover.nse            jdwp-version.nse
broadcast-avahi-dos.nse                 knx-gateway-discover.nse
broadcast-bjnp-discover.nse             knx-gateway-info.nse
broadcast-db2-discover.nse              krb5-enum-users.nse
broadcast-dhcp6-discover.nse            ldap-brute.nse
broadcast-dhcp-discover.nse             ldap-novell-getpass.nse
broadcast-dns-service-discovery.nse     ldap-rootdse.nse
broadcast-dropbox-listener.nse          ldap-search.nse
broadcast-eigrp-discovery.nse           lexmark-config.nse
broadcast-igmp-discovery.nse            llmnr-resolve.nse
broadcast-listener.nse                  lltd-discovery.nse
broadcast-ms-sql-discover.nse           maxdb-info.nse
broadcast-netbios-master-browser.nse    mcafee-epo-agent.nse
broadcast-networker-discover.nse        membase-brute.nse
broadcast-novell-locate.nse             membase-http-info.nse
broadcast-pc-anywhere.nse               memcached-info.nse
broadcast-pc-duo.nse                    metasploit-info.nse
broadcast-pim-discovery.nse             metasploit-msgrpc-brute.nse
broadcast-ping.nse                      metasploit-xmlrpc-brute.nse
broadcast-pppoe-discover.nse            mikrotik-routeros-brute.nse
broadcast-rip-discover.nse              mmouse-brute.nse
broadcast-ripng-discover.nse            mmouse-exec.nse
broadcast-sonicwall-discover.nse        modbus-discover.nse
broadcast-sybase-asa-discover.nse       mongodb-brute.nse
broadcast-tellstick-discover.nse        mongodb-databases.nse
broadcast-upnp-info.nse                 mongodb-info.nse
broadcast-versant-locate.nse            mrinfo.nse
broadcast-wake-on-lan.nse               msrpc-enum.nse
broadcast-wpad-discover.nse             ms-sql-brute.nse
broadcast-wsdd-discover.nse             ms-sql-config.nse
broadcast-xdmcp-discover.nse            ms-sql-dac.nse
cassandra-brute.nse                     ms-sql-dump-hashes.nse
cassandra-info.nse                      ms-sql-empty-password.nse
cccam-version.nse                       ms-sql-hasdbaccess.nse
citrix-brute-xml.nse                    ms-sql-info.nse
citrix-enum-apps.nse                    ms-sql-query.nse
citrix-enum-apps-xml.nse                ms-sql-tables.nse
citrix-enum-servers.nse                 ms-sql-xp-cmdshell.nse
citrix-enum-servers-xml.nse             mtrace.nse
couchdb-databases.nse                   murmur-version.nse
couchdb-stats.nse                       mysql-audit.nse
creds-summary.nse                       mysql-brute.nse
cups-info.nse                           mysql-databases.nse
cups-queue-info.nse                     mysql-dump-hashes.nse
cvs-brute.nse                           mysql-empty-password.nse
cvs-brute-repository.nse                mysql-enum.nse
daap-get-library.nse                    mysql-info.nse
daytime.nse                             mysql-query.nse
db2-das-info.nse                        mysql-users.nse
dhcp-discover.nse                       mysql-variables.nse
dict-info.nse                           mysql-vuln-cve2012-2122.nse
distcc-cve2004-2687.nse                 nat-pmp-info.nse
dns-blacklist.nse                       nat-pmp-mapport.nse
dns-brute.nse                           nbstat.nse
dns-cache-snoop.nse                     ncp-enum-users.nse
dns-check-zone.nse                      ncp-serverinfo.nse
dns-client-subnet-scan.nse              ndmp-fs-info.nse
dns-fuzz.nse                            ndmp-version.nse
dns-ip6-arpa-scan.nse                   nessus-brute.nse
dns-nsec3-enum.nse                      nessus-xmlrpc-brute.nse
dns-nsec-enum.nse                       netbus-auth-bypass.nse
dns-nsid.nse                            netbus-brute.nse
dns-random-srcport.nse                  netbus-info.nse
dns-random-txid.nse                     netbus-version.nse
dns-recursion.nse                       nexpose-brute.nse
dns-service-discovery.nse               nfs-ls.nse
dns-srv-enum.nse                        nfs-showmount.nse
dns-update.nse                          nfs-statfs.nse
dns-zeustracker.nse                     nje-node-brute.nse
dns-zone-transfer.nse                   nping-brute.nse
docker-version.nse                      nrpe-enum.nse
domcon-brute.nse                        ntp-info.nse
domcon-cmd.nse                          ntp-monlist.nse
domino-enum-users.nse                   omp2-brute.nse
dpap-brute.nse                          omp2-enum-targets.nse
drda-brute.nse                          omron-info.nse
drda-info.nse                           openlookup-info.nse
duplicates.nse                          openvas-otp-brute.nse
eap-info.nse                            oracle-brute.nse
enip-info.nse                           oracle-brute-stealth.nse
epmd-info.nse                           oracle-enum-users.nse
eppc-enum-processes.nse                 oracle-sid-brute.nse
fcrdns.nse                              ovs-agent-version.nse
finger.nse                              p2p-conficker.nse
firewalk.nse                            path-mtu.nse
firewall-bypass.nse                     pcanywhere-brute.nse
flume-master-info.nse                   pgsql-brute.nse
freelancer-info.nse                     pjl-ready-message.nse
ftp-anon.nse                            pop3-brute.nse
ftp-bounce.nse                          pop3-capabilities.nse
ftp-brute.nse                           pptp-version.nse
ftp-libopie.nse                         qconn-exec.nse
ftp-proftpd-backdoor.nse                qscan.nse
ftp-vsftpd-backdoor.nse                 quake1-info.nse
ftp-vuln-cve2010-4221.nse               quake3-info.nse
ganglia-info.nse                        quake3-master-getservers.nse
giop-info.nse                           rdp-enum-encryption.nse
gkrellm-info.nse                        rdp-vuln-ms12-020.nse
gopher-ls.nse                           realvnc-auth-bypass.nse
gpsd-info.nse                           redis-brute.nse
hadoop-datanode-info.nse                redis-info.nse
hadoop-jobtracker-info.nse              resolveall.nse
hadoop-namenode-info.nse                reverse-index.nse
hadoop-secondary-namenode-info.nse      rexec-brute.nse
hadoop-tasktracker-info.nse             rfc868-time.nse
hbase-master-info.nse                   riak-http-info.nse
hbase-region-info.nse                   rlogin-brute.nse
hddtemp-info.nse                        rmi-dumpregistry.nse
hnap-info.nse                           rmi-vuln-classloader.nse
hostmap-bfk.nse                         rpcap-brute.nse
hostmap-ip2hosts.nse                    rpcap-info.nse
hostmap-robtex.nse                      rpc-grind.nse
http-adobe-coldfusion-apsa1301.nse      rpcinfo.nse
http-affiliate-id.nse                   rsync-brute.nse
http-apache-negotiation.nse             rsync-list-modules.nse
http-auth-finder.nse                    rtsp-methods.nse
http-auth.nse                           rtsp-url-brute.nse
http-avaya-ipoffice-users.nse           s7-info.nse
http-awstatstotals-exec.nse             samba-vuln-cve-2012-1182.nse
http-axis2-dir-traversal.nse            script.db
http-backup-finder.nse                  servicetags.nse
http-barracuda-dir-traversal.nse        sip-brute.nse
http-brute.nse                          sip-call-spoof.nse
http-cakephp-version.nse                sip-enum-users.nse
http-chrono.nse                         sip-methods.nse
http-cisco-anyconnect.nse               skypev2-version.nse
http-coldfusion-subzero.nse             smb-brute.nse
http-comments-displayer.nse             smb-enum-domains.nse
http-config-backup.nse                  smb-enum-groups.nse
http-cors.nse                           smb-enum-processes.nse
http-cross-domain-policy.nse            smb-enum-sessions.nse
http-csrf.nse                           smb-enum-shares.nse
http-date.nse                           smb-enum-users.nse
http-default-accounts.nse               smb-flood.nse
http-devframework.nse                   smb-ls.nse
http-dlink-backdoor.nse                 smb-mbenum.nse
http-dombased-xss.nse                   smb-os-discovery.nse
http-domino-enum-passwords.nse          smb-print-text.nse
http-drupal-enum.nse                    smb-psexec.nse
http-drupal-enum-users.nse              smb-security-mode.nse
http-enum.nse                           smb-server-stats.nse
http-errors.nse                         smb-system-info.nse
http-exif-spider.nse                    smbv2-enabled.nse
http-favicon.nse                        smb-vuln-conficker.nse
http-feed.nse                           smb-vuln-cve2009-3103.nse
http-fetch.nse                          smb-vuln-ms06-025.nse
http-fileupload-exploiter.nse           smb-vuln-ms07-029.nse
http-form-brute.nse                     smb-vuln-ms08-067.nse
http-form-fuzzer.nse                    smb-vuln-ms10-054.nse
http-frontpage-login.nse                smb-vuln-ms10-061.nse
http-generator.nse                      smb-vuln-regsvc-dos.nse
http-git.nse                            smtp-brute.nse
http-gitweb-projects-enum.nse           smtp-commands.nse
http-google-malware.nse                 smtp-enum-users.nse
http-grep.nse                           smtp-open-relay.nse
http-headers.nse                        smtp-strangeport.nse
http-huawei-hg5xx-vuln.nse              smtp-vuln-cve2010-4344.nse
http-icloud-findmyiphone.nse            smtp-vuln-cve2011-1720.nse
http-icloud-sendmsg.nse                 smtp-vuln-cve2011-1764.nse
http-iis-short-name-brute.nse           sniffer-detect.nse
http-iis-webdav-vuln.nse                snmp-brute.nse
http-joomla-brute.nse                   snmp-hh3c-logins.nse
http-litespeed-sourcecode-download.nse  snmp-info.nse
http-ls.nse                             snmp-interfaces.nse
http-majordomo2-dir-traversal.nse       snmp-ios-config.nse
http-malware-host.nse                   snmp-netstat.nse
http-methods.nse                        snmp-processes.nse
http-method-tamper.nse                  snmp-sysdescr.nse
http-mobileversion-checker.nse          snmp-win32-services.nse
http-ntlm-info.nse                      snmp-win32-shares.nse
http-open-proxy.nse                     snmp-win32-software.nse
http-open-redirect.nse                  snmp-win32-users.nse
http-passwd.nse                         socks-auth-info.nse
http-phpmyadmin-dir-traversal.nse       socks-brute.nse
http-phpself-xss.nse                    socks-open-proxy.nse
http-php-version.nse                    ssh2-enum-algos.nse
http-proxy-brute.nse                    ssh-hostkey.nse
http-put.nse                            sshv1.nse
http-qnap-nas-info.nse                  ssl-ccs-injection.nse
http-referer-checker.nse                ssl-cert.nse
http-rfi-spider.nse                     ssl-date.nse
http-robots.txt.nse                     ssl-dh-params.nse
http-robtex-reverse-ip.nse              ssl-enum-ciphers.nse
http-robtex-shared-ns.nse               ssl-google-cert-catalog.nse
http-server-header.nse                  ssl-heartbleed.nse
http-shellshock.nse                     ssl-known-key.nse
http-sitemap-generator.nse              ssl-poodle.nse
http-slowloris-check.nse                sslv2.nse
http-slowloris.nse                      sstp-discover.nse
http-sql-injection.nse                  stun-info.nse
http-stored-xss.nse                     stun-version.nse
http-svn-enum.nse                       stuxnet-detect.nse
http-svn-info.nse                       supermicro-ipmi-conf.nse
http-title.nse                          svn-brute.nse
http-tplink-dir-traversal.nse           targets-asn.nse
http-trace.nse                          targets-ipv6-map4to6.nse
http-traceroute.nse                     targets-ipv6-multicast-echo.nse
http-unsafe-output-escaping.nse         targets-ipv6-multicast-invalid-dst.nse
http-useragent-tester.nse               targets-ipv6-multicast-mld.nse
http-userdir-enum.nse                   targets-ipv6-multicast-slaac.nse
http-vhosts.nse                         targets-ipv6-wordlist.nse
http-virustotal.nse                     targets-sniffer.nse
http-vlcstreamer-ls.nse                 targets-traceroute.nse
http-vmware-path-vuln.nse               targets-xml.nse
http-vuln-cve2006-3392.nse              teamspeak2-version.nse
http-vuln-cve2009-3960.nse              telnet-brute.nse
http-vuln-cve2010-0738.nse              telnet-encryption.nse
http-vuln-cve2010-2861.nse              tftp-enum.nse
http-vuln-cve2011-3192.nse              tls-nextprotoneg.nse
http-vuln-cve2011-3368.nse              tor-consensus-checker.nse
http-vuln-cve2012-1823.nse              traceroute-geolocation.nse
http-vuln-cve2013-0156.nse              unittest.nse
http-vuln-cve2013-7091.nse              unusual-port.nse
http-vuln-cve2014-2126.nse              upnp-info.nse
http-vuln-cve2014-2127.nse              url-snarf.nse
http-vuln-cve2014-2128.nse              ventrilo-info.nse
http-vuln-cve2014-2129.nse              versant-info.nse
http-vuln-cve2014-8877.nse              vmauthd-brute.nse
http-vuln-cve2015-1427.nse              vnc-brute.nse
http-vuln-cve2015-1635.nse              vnc-info.nse
http-vuln-misfortune-cookie.nse         voldemort-info.nse
http-vuln-wnr1000-creds.nse             vuze-dht-info.nse
http-waf-detect.nse                     wdb-version.nse
http-waf-fingerprint.nse                weblogic-t3-info.nse
http-webdav-scan.nse                    whois-domain.nse
http-wordpress-brute.nse                whois-ip.nse
http-wordpress-enum.nse                 wsdd-discover.nse
http-wordpress-users.nse                x11-access.nse
http-xssed.nse                          xdmcp-discover.nse
iax2-brute.nse                          xmlrpc-methods.nse
iax2-version.nse                        xmpp-brute.nse
icap-info.nse                           xmpp-info.nse
</code></pre>

<p>One such script is <strong>smb-os-discovery</strong>, which attempts to connect to the SMB service on a target system, and determine its operating system version.</p>
<pre><code>root@kali:~# nmap 192.168.0.104 --script smb-os-discovery.nse
Host script results:
| smb-os-discovery: 
|   OS: Unix (Samba 3.0.20-Debian)
|   NetBIOS computer name: 
|   Workgroup: WORKGROUP
|_  System time: 2018-02-16T22:23:16-05:00

Nmap done: 1 IP address (1 host up) scanned in 2.50 seconds
</code></pre>

<p>Another useful script is the DNS zone transfer NSE script, wich can be invoked in the following way:</p>
<pre><code>root@kali:~# nmap --script=dns-zone-transfer -p 53 ns2.example.com
</code></pre>

<h3 id="428-exericies"><a name="user-content-428-exericies" href="#428-exericies" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.2.8 - Exericies</h3>
<ol>
<li>Use <strong>nmap</strong> to conduct a ping sweep for your target IP range and save the output to a file, so that you can grep for hosts that are online.</li>
</ol>
<pre><code>root@kali:~# nmap -sn 192.168.0.1-150 -oG ping-sweep.txt
root@kali:~# grep Up ping-sweep.txt | cut -d&quot; &quot; -f2 &gt;&gt; hosts.txt
</code></pre>

<ol>
<li>Scan the IPs you found in exercise 1 for open webserver ports. Use <strong>nmap</strong> to find the web sever and operating system version.</li>
</ol>
<pre><code>root@kali:~# sudo nmap -iL hosts.txt -p 80 -O
[sudo] password for zero: 

Starting Nmap 7.01 ( https://nmap.org ) at 2018-03-11 10:32 -04
Nmap scan report for 192.168.0.1
Host is up (0.0053s latency).
PORT   STATE SERVICE
80/tcp open  http
MAC Address: C8:3A:35:4D:3A:78 (Tenda Technology)
Warning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed port
Device type: general purpose
Running: Wind River VxWorks
OS CPE: cpe:/o:windriver:vxworks
OS details: VxWorks
Network Distance: 1 hop

Nmap scan report for 192.168.0.104
Host is up (0.00024s latency).
PORT   STATE SERVICE
80/tcp open  http
MAC Address: 08:00:27:3B:13:69 (Oracle VirtualBox virtual NIC)
Warning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed port
Device type: general purpose
Running: Linux 2.6.X
OS CPE: cpe:/o:linux:linux_kernel:2.6
OS details: Linux 2.6.9 - 2.6.33
Network Distance: 1 hop

Nmap scan report for 192.168.0.105
Host is up (0.000046s latency).
PORT   STATE  SERVICE
80/tcp closed http
Warning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed port
Device type: general purpose
Running: Linux 2.6.X
OS CPE: cpe:/o:linux:linux_kernel:2.6
OS details: Linux 2.6.14 - 2.6.34, Linux 2.6.17, Linux 2.6.17 (Mandriva)
Network Distance: 0 hops

OS detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 4 IP addresses (3 hosts up) scanned in 7.90 seconds

</code></pre>

<ol>
<li>Use the NSE scripts to scan the servers in the labs wich are running the SMB service.</li>
</ol>
<pre><code>root@kali:~# nmap -v -Pn --script smb-* 192.168.0.104
</code></pre>

<ol>
<li>Explore the various command line options that nmap offers while scanning an online host you discovered within your target IP range. Monitor the bandwidth usage changes for the different options. Weigh the use of collecting as much informations possible against the resources it takes to gather it.</li>
</ol>
<p><a href="#">nmap-cheat-sheet</a></p>
<h2 id="43-smb-enumeration"><a name="user-content-43-smb-enumeration" href="#43-smb-enumeration" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.3 - SMB Enumeration</h2>
<h5 id="smb-wiki"><a href="https://en.wikipedia.org/wiki/Server_Message_Block">SMB wiki</a></h5>
<p>The Server Message Block (SMB) protocol&rsquo;s security track record has been poor for over a decade, due to its complex implementation, and open nature. From unauthenticated SMB null sessions in Windows 2000 and XP, to a plethora of SMB bugs and vulnerabilities over the years, SMB has seen its fair share of action.</p>
<ul>
<li>SMB version numbers, and their related Windows Operating system versions:<ul>
<li><strong>SMB1</strong> - Windows 2000, XP and Windows 2003</li>
<li><strong>SMB2</strong> - Windows Vista SP1 and Windows 2008</li>
<li><strong>SMB2.1</strong> - Windows 7 and Windows 2008 R2</li>
<li><strong>SMB3</strong> - Windows 8 and Windows 2012</li>
</ul>
</li>
</ul>
<h3 id="431-scanning-for-the-netbios-service"><a name="user-content-431-scanning-for-the-netbios-service" href="#431-scanning-for-the-netbios-service" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.3.1 - Scanning for the NetBIOS Service</h3>
<h5 id="netbios-wiki"><a href="https://en.wikipedia.org/wiki/NetBIOS">NetBIOS wiki</a></h5>
<p>The SMB NetBIOS service listens on TCP ports 139 and 445, as well as several UDP ports. These can be scanned with tools, such as <strong>nmap</strong>, using syntax similar to the following:</p>
<pre><code>root@kali:~# nmap -v -p 138,445 -oG smb.txt 192.168.11.200-254
</code></pre>

<p>There are other, more specialized, tools for specifically identifying NetBIOS information, such as <strong>nbtscan</strong> as shown below.</p>
<pre><code>root@kali:~# nbtscan -r 192.168.11.0/24
</code></pre>

<h2 id="432-null-session-enumeration"><a name="user-content-432-null-session-enumeration" href="#432-null-session-enumeration" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.3.2 - Null Session Enumeration</h2>
<h5 id="enum4linux"><a href="https://tools.kali.org/information-gathering/enum4linux">enum4linux</a></h5>
<p>A null session refers to an unauthenticated NetBIOS session betwee two computers. This feature exists to allow unauthenticated machines to obtain browse lists from other Microsoft servers. A null session also allows unauthenticated hackers to obtain large amounts of information about the machine, such as password polices, usernames, group names, machine names, user and host SIDs.<br />
A useful tool for this is <strong>enum4linux</strong>, present in Kali. It is written in Perl and is basically a wrapper around the <a href="http://www.samba.org/">Samba</a> tools <strong>smbclient</strong>, <strong>rpcclient</strong>, <strong>net</strong> and <strong>nmblookup</strong>.</p>
<pre><code>root@kali:~# enum4linux -a 192.168.11.227
</code></pre>

<h6 id="for-more-information-about-enum4linux-check-out-the-examples-available-on-the-portcullis-labs-website"><a name="user-content-for-more-information-about-enum4linux-check-out-the-examples-available-on-the-portcullis-labs-website" href="#for-more-information-about-enum4linux-check-out-the-examples-available-on-the-portcullis-labs-website" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>For more information about <strong>enum4linux</strong>, check out the examples available on the <a href="http://labs.portcullis.co.uk/tools/enum4linux/">Portcullis Labs website</a></h6>
<h3 id="433-nmap-smb-nse-scripts"><a name="user-content-433-nmap-smb-nse-scripts" href="#433-nmap-smb-nse-scripts" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.3.3 - Nmap SMB NSE Scripts</h3>
<h5 id="nse-scripts"><a href="https://nmap.org/nsedoc/">NSE scripts</a></h5>
<p>Nmap contains many useful NSE scripts that can be used to discover and enumerate SMB services. These scripts can be found in the <strong>/usr/share/nmap/scripts</strong> directory.</p>
<pre><code>root@kali:~# ls /usr/share/nmap/scripts/smb*
/usr/share/nmap/scripts/smb-brute.nse
/usr/share/nmap/scripts/smb-enum-domains.nse
/usr/share/nmap/scripts/smb-enum-groups.nse
/usr/share/nmap/scripts/smb-enum-processes.nse
/usr/share/nmap/scripts/smb-enum-sessions.nse
/usr/share/nmap/scripts/smb-enum-shares.nse
/usr/share/nmap/scripts/smb-enum-users.nse
/usr/share/nmap/scripts/smb-flood.nse
/usr/share/nmap/scripts/smb-ls.nse
/usr/share/nmap/scripts/smb-mbenum.nse
/usr/share/nmap/scripts/smb-os-discovery.nse
/usr/share/nmap/scripts/smb-print-text.nse
/usr/share/nmap/scripts/smb-psexec.nse
/usr/share/nmap/scripts/smb-security-mode.nse
/usr/share/nmap/scripts/smb-server-stats.nse
/usr/share/nmap/scripts/smb-system-info.nse
/usr/share/nmap/scripts/smbv2-enabled.nse
/usr/share/nmap/scripts/smb-vuln-conficker.nse
/usr/share/nmap/scripts/smb-vuln-cve2009-3103.nse
/usr/share/nmap/scripts/smb-vuln-ms06-025.nse
/usr/share/nmap/scripts/smb-vuln-ms07-029.nse
/usr/share/nmap/scripts/smb-vuln-ms08-067.nse
/usr/share/nmap/scripts/smb-vuln-ms10-054.nse
/usr/share/nmap/scripts/smb-vuln-ms10-061.nse
/usr/share/nmap/scripts/smb-vuln-regsvc-dos.nse
</code></pre>

<p>We can see thtat several interesting Nmap SMB NSE scripts exist, such as OS discovery and enumeration of various pieces of information from the protocol.</p>
<pre><code>root@kali:~# nmap -v -p 139, 445 --script=smb-os-discovery 192.168.11.227
</code></pre>

<p>To check for known SMB protocol vulnerabilities, you can invoke the <strong>nmap</strong> <b><em>smb-check-vulns</em></b> script as shown below.</p>
<pre><code>root@kali:~# nmap -v -p 139,445 --script=smb-check-vulns --script-args=unasafe=1 192.168.11.201
</code></pre>

<p>In this case, <strong>nmap</strong> identifies that the specific SMB service is missing at least one critical patch for the <a href="https://docs.microsoft.com/en-us/security-updates/SecurityBulletins/2008/ms08-067">MS08-067</a> vulnerability.</p>
<h3 id="434-exercises"><a name="user-content-434-exercises" href="#434-exercises" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.3.4 - Exercises</h3>
<ol>
<li>
<p>Use Nmap to make a list of which SMB servers in the lab are running Windows.</p>
</li>
<li>
<p>Use NSE scripts to scan these systems for SMB vulnerabilities.</p>
</li>
</ol>
<pre><code>root@kali:~# nmap -v -p 139,445 --script=smb-check-vulns --script-args=unasafe=1 192.168.11.201
</code></pre>

<ol>
<li>Use <strong>nbtscan</strong> and <strong>enum4linux</strong> against these systems and identify the kinds of data you can obtain from different versions of Windows.</li>
</ol>
<h2 id="44-smtp-enumeration"><a name="user-content-44-smtp-enumeration" href="#44-smtp-enumeration" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.4 - SMTP Enumeration</h2>
<h5 id="smtp"><a href="https://en.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol">SMTP</a></h5>
<p>In certain vulnerable configurations, mail servers can also be used to gather information about a host or network. SMTP supports several important commands, such as <strong>VRFY</strong> and <strong>EXPN</strong>. A <strong>VRFY</strong> request asks the server to verify an email address, while <strong>EXPN</strong> asks the server for the membership of a mailing list.</p>
<p>Example:</p>
<pre><code>root@kali:~# nc -nv 192.168.0.104 25
Connection to 192.168.0.104 25 port [tcp/*] succeeded!
220 metasploitable.localdomain ESMTP Postfix (Ubuntu)
VRFY root
252 2.0.0 root
VRFY idontexist
550 5.1.1 &lt;idontexist&gt;: Recipient address rejected: User unknown in local recipient table
</code></pre>

<p>Notice the difference in the message received when a user is present on the system. The SMTP server happily verifies that the user exists. This procedure can be used to help guess valid usernames.</p>
<p><a href="#">smtp-vrfy.py</a></p>
<h3 id="441-exercise"><a name="user-content-441-exercise" href="#441-exercise" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.4.1 - Exercise</h3>
<ol>
<li>Search your target network range, and see if you can identify any systems that respond to the SMTP <em>VRFY</em> command.</li>
</ol>
<h2 id="45-snmp-enumeration"><a name="user-content-45-snmp-enumeration" href="#45-snmp-enumeration" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.5 - SNMP Enumeration</h2>
<h5 id="snmp"><a href="https://en.wikipedia.org/wiki/Simple_Network_Management_Protocol">SNMP</a></h5>
<p>Over the years, we have often found that Simple Network Management Protocol (SNMP) is a poorly understood protocol by many network administrators. This often results in SNMP misconfigurations, which can result in a dramatic information leakage. SNMP is based on UDP, a simple, stateless protocol, and is therefore susceptible to IP spoofing, and replay attacks. In a addition, the commonly used SNMP protocols 1, 2 and 2c offer no traffic encryption, meaning SNMP information and credentials can be easily intercepted over a local network. Traditional SNMP protocols also have weak authentication schemes, and are commonly left configured with default public and private community strings.<br />
<br><br />
Now, consider that all of the above applies to a protocol, which by definition is meant to &ldquo;Manege the Network&rdquo;.</p>
<h3 id="451-mib-tree"><a name="user-content-451-mib-tree" href="#451-mib-tree" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.5.1 - MIB Tree</h3>
<p>The SNMP Management Information Base (<a href="https://en.wikipedia.org/wiki/Management_information_base">MIB</a>) is a databse containing information usually related to network management. The database is organized like a tree, where branches represent different organizations or network functions. The leaves of the tree (final endpoints) correspond to specific variable values that can then be accessed, and probed, by an external user.</p>
<p>For example, the following MIB values corresponf to specific Microsoft Windows SNMP parameters.</p>
<table>
<thead>
<tr>
<th>-</th>
<th>-</th>
</tr>
</thead>
<tbody>
<tr>
<td>1.3.6.1.2.1.25.1.6.0</td>
<td>System Processes</td>
</tr>
<tr>
<td>1.3.6.1.2.1.25.4.2.1.2</td>
<td>Running Programs</td>
</tr>
<tr>
<td>1.3.6.1.2.1.25.4.2.1.4</td>
<td>Processes Path</td>
</tr>
<tr>
<td>1.3.6.1.2.1.25.2.3.1.4</td>
<td>Storage Units</td>
</tr>
<tr>
<td>1.3.6.1.2.1.25.6.3.1.2</td>
<td>Software Name</td>
</tr>
<tr>
<td>1.3.6.1.4.1.77.1.2.25</td>
<td>User Accounts</td>
</tr>
<tr>
<td>1.3.6.1.2.1.6.13.1.3</td>
<td>TCP Local Ports</td>
</tr>
</tbody>
</table>
<h3 id="452-scanning-for-snmp"><a name="user-content-452-scanning-for-snmp" href="#452-scanning-for-snmp" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.5.2 - Scanning for SNMP</h3>
<p>To scan open SNMP ports, we can use <strong>nmap</strong> with syntax similar to:</p>
<pre><code>root@kali:~# nmap -sU --open -p 161 192.168.11.200-254 -oG mega-snmp.txt
</code></pre>

<p>Alternatively, we can use a toll such as <strong>onesixtyone</strong>, wich will check for given community strings against an IP list, allowing us to brute force various community strings.</p>
<pre><code>root@kali:~# echo public &gt; community
root@kali:~# echo private &gt;&gt; community
root@kali:~# echo manager &gt;&gt; community
root@kali:~# for ip in $(seq 200 254);do echo 192.168.11.$ip;done &gt; ips
root@kali:~# onesixtyone -c community -i ips
</code></pre>

<p>Once these SNMP services are found, we can start querying them for specific MIB data that misght be interesting to us.</p>
<h3 id="453-windows-snmp-enumeration-example"><a name="user-content-453-windows-snmp-enumeration-example" href="#453-windows-snmp-enumeration-example" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4.5.3 - Windows SNMP Enumeration Example</h3>
<p>We can probe and query SNMP values using a tool such as <strong>snmpwalk</strong> provide we at least know the SNMP read-only community string, wich in most cases is &ldquo;<b><em>public</em></b>&ldquo;. Using some of the MIB values provided above, we could attemp to enumerate their corresponding values.</p>
<h4 id="enumerating-the-entire-mib-tree"><a name="user-content-enumerating-the-entire-mib-tree" href="#enumerating-the-entire-mib-tree" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Enumerating the Entire MIB Tree:</h4>
<pre><code>root@kali:~# snmpwalk -c public -v1 192.168.11.204 1.3.6.1.4.1.77.1.2.25
</code></pre>

<h4 id="enumerating-windows-users"><a name="user-content-enumerating-windows-users" href="#enumerating-windows-users" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Enumerating Windows Users:</h4>
<pre><code>root@kali:~# snmpwalk -c public -v1 192.168.11.204 1.3.6.1.2.1.25.4.2.1.2
</code></pre>

<h4 id="enumerating"><a name="user-content-enumerating" href="#enumerating" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Enumerating</h4>
<pre><code>root@kali:~# snmpwalk -c public -v1 192.168.11.204
</code></pre>

<h4 id="enumerating_1"><a name="user-content-enumerating_1" href="#enumerating_1" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Enumerating</h4>
<pre><code>root@kali:~# snmpwalk -c public -v1 192.168.11.204 
</code></pre></article></body></html>